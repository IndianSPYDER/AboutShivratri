<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shiva Special - Puja Quest Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:wght@300;400;600&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --deep-saffron: #ff6b35;
            --sacred-orange: #ff8c42;
            --temple-gold: #d4af37;
            --night-blue: #1a1a3e;
            --midnight: #0f0f23;
            --sacred-purple: #6a4c93;
            --moonlight: #f7f7f2;
            --ash-grey: #c0c0c8;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: linear-gradient(135deg, var(--midnight) 0%, var(--night-blue) 50%, var(--sacred-purple) 100%);
            color: var(--moonlight);
            overflow: hidden;
        }

        .game-header {
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid rgba(212, 175, 55, 0.3);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 100;
        }

        .game-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            background: linear-gradient(135deg, var(--sacred-orange), var(--temple-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .back-button {
            padding: 0.8rem 2rem;
            font-family: 'Cinzel', serif;
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid var(--temple-gold);
            border-radius: 10px;
            color: var(--temple-gold);
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .back-button:hover {
            background: rgba(212, 175, 55, 0.4);
            transform: scale(1.05);
        }

        .fullscreen-btn {
            padding: 0.8rem 1.5rem;
            font-family: 'Cinzel', serif;
            background: rgba(255, 107, 53, 0.2);
            border: 2px solid var(--sacred-orange);
            border-radius: 10px;
            color: var(--sacred-orange);
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 1rem;
        }

        .fullscreen-btn:hover {
            background: rgba(255, 107, 53, 0.4);
            transform: scale(1.05);
        }

        .game-hud {
            padding: 1.5rem 2rem;
            background: rgba(15, 15, 35, 0.9);
            border-bottom: 2px solid rgba(212, 175, 55, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .inventory-section {
            flex: 1;
            min-width: 300px;
        }

        .inventory-title {
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            color: var(--temple-gold);
            margin-bottom: 0.8rem;
        }

        .inventory-grid {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .inventory-item {
            padding: 0.8rem 1.2rem;
            background: rgba(26, 26, 62, 0.6);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 10px;
            color: var(--ash-grey);
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .inventory-item.collected {
            background: rgba(255, 107, 53, 0.4);
            border-color: var(--sacred-orange);
            color: var(--sacred-orange);
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
            transform: scale(1.05);
        }

        .item-counter {
            text-align: right;
        }

        .counter-text {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            color: var(--temple-gold);
        }

        .game-viewport {
            position: relative;
            width: 100vw;
            height: calc(100vh - 180px);
            overflow: hidden;
            background: #1a4d2e;
        }

        .game-world {
            position: absolute;
            width: 3000px;
            height: 2000px;
        }

        /* Village Background */
        .village-ground {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(135deg, #2d5a3f 0%, #1a4d2e 50%, #2d5a3f 100%);
        }

        /* Paths */
        .path {
            position: absolute;
            background: #8b7355;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
        }

        .path-horizontal {
            width: 3000px;
            height: 80px;
            top: 960px;
        }

        .path-vertical {
            width: 80px;
            height: 2000px;
            left: 1460px;
        }

        /* Temple Structure - Center */
        .temple {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .temple-platform {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4a3f35, #6b5d52);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
            border: 5px solid var(--temple-gold);
        }

        .temple-platform::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, transparent, rgba(212, 175, 55, 0.2), transparent);
            border-radius: 25px;
            z-index: -1;
        }

        .shiva-lingam {
            position: relative;
            width: 120px;
            height: 180px;
            z-index: 10;
        }

        .lingam-base {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 140px;
            height: 60px;
            background: linear-gradient(135deg, #3d3d3d, #2a2a2a);
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
            border: 3px solid var(--temple-gold);
        }

        .lingam-yoni {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 130px;
            height: 50px;
            background: linear-gradient(135deg, #5a4a3a, #7d6b5a);
            border-radius: 50% 50% 0 0;
            border: 3px solid var(--temple-gold);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }

        .lingam-body {
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: 90px;
            height: 110px;
            background: linear-gradient(135deg, #a89080, #c4b5a0, #a89080);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            border: 3px solid var(--temple-gold);
            box-shadow: 
                0 -5px 30px rgba(255, 255, 255, 0.3),
                0 10px 40px rgba(0, 0, 0, 0.6),
                inset 0 -10px 20px rgba(0, 0, 0, 0.3);
            animation: lingamGlow 3s ease-in-out infinite;
        }

        .lingam-body::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 10%;
            right: 10%;
            height: 3px;
            background: var(--temple-gold);
            border-radius: 50%;
            opacity: 0.6;
        }

        .lingam-body::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 10%;
            right: 10%;
            height: 3px;
            background: var(--temple-gold);
            border-radius: 50%;
            opacity: 0.6;
        }

        @keyframes lingamGlow {
            0%, 100% {
                box-shadow: 
                    0 -5px 30px rgba(255, 255, 255, 0.3),
                    0 10px 40px rgba(0, 0, 0, 0.6),
                    inset 0 -10px 20px rgba(0, 0, 0, 0.3);
            }
            50% {
                box-shadow: 
                    0 -5px 40px rgba(255, 255, 255, 0.5),
                    0 10px 50px rgba(212, 175, 55, 0.4),
                    inset 0 -10px 20px rgba(0, 0, 0, 0.3);
            }
        }

        .om-symbol {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 3rem;
            color: var(--temple-gold);
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.8);
            animation: omFloat 3s ease-in-out infinite;
        }

        @keyframes omFloat {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        /* Buildings */
        .building {
            position: absolute;
            background: linear-gradient(135deg, #8b4513, #a0522d);
            border: 3px solid #654321;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .building::before {
            content: '';
            position: absolute;
            top: -40px;
            left: -10px;
            right: -10px;
            height: 40px;
            background: linear-gradient(135deg, #d2691e, #cd853f);
            clip-path: polygon(0% 100%, 50% 0%, 100% 100%);
            border: 3px solid #654321;
        }

        .house1 {
            left: 200px;
            top: 300px;
            width: 180px;
            height: 200px;
        }

        .house2 {
            left: 2600px;
            top: 400px;
            width: 200px;
            height: 220px;
        }

        .house3 {
            left: 300px;
            top: 1500px;
            width: 190px;
            height: 210px;
        }

        .house4 {
            left: 2500px;
            top: 1400px;
            width: 180px;
            height: 200px;
        }

        /* Trees */
        .tree {
            position: absolute;
        }

        .tree-trunk {
            width: 20px;
            height: 60px;
            background: #5d4037;
            margin: 0 auto;
            border-radius: 5px;
        }

        .tree-leaves {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #2e7d32, #1b5e20);
            border-radius: 50%;
            margin: -30px auto 0;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        /* Wells */
        .well {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #424242, #212121);
            border-radius: 50%;
            border: 5px solid #6d4c41;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), inset 0 5px 20px rgba(0, 0, 0, 0.8);
        }

        /* Player */
        .player {
            position: absolute;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--sacred-orange), var(--deep-saffron));
            border: 4px solid var(--temple-gold);
            border-radius: 50%;
            box-shadow: 0 5px 30px rgba(255, 107, 53, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            z-index: 50;
        }

        .player.moving {
            animation: playerWalk 0.3s ease infinite;
        }

        @keyframes playerWalk {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1) rotate(5deg); }
        }

        /* Items */
        .item {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.4), rgba(212, 175, 55, 0.1));
            border: 3px solid var(--temple-gold);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: itemFloat 2s ease-in-out infinite;
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.4);
            z-index: 40;
        }

        @keyframes itemFloat {
            0%, 100% { 
                transform: translateY(0) scale(1); 
                box-shadow: 0 10px 30px rgba(212, 175, 55, 0.4);
            }
            50% { 
                transform: translateY(-15px) scale(1.1);
                box-shadow: 0 20px 40px rgba(212, 175, 55, 0.6);
            }
        }

        .item:hover {
            transform: scale(1.3) rotate(10deg);
            box-shadow: 0 15px 50px rgba(212, 175, 55, 0.8);
        }

        .item.collected {
            opacity: 0;
            pointer-events: none;
            transform: scale(0);
        }

        .item-label {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 15, 35, 0.9);
            padding: 0.3rem 0.8rem;
            border-radius: 8px;
            border: 1px solid var(--temple-gold);
            white-space: nowrap;
            font-family: 'Cinzel', serif;
            font-size: 0.9rem;
            color: var(--temple-gold);
        }

        /* Controls */
        .controls-panel {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 15, 35, 0.95);
            border: 2px solid var(--temple-gold);
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            gap: 1rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            z-index: 90;
        }

        .control-btn {
            padding: 1rem 2rem;
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid var(--temple-gold);
            border-radius: 10px;
            color: var(--temple-gold);
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 80px;
        }

        .control-btn:hover {
            background: rgba(212, 175, 55, 0.4);
            transform: scale(1.1);
        }

        .control-btn:active {
            transform: scale(0.95);
            background: rgba(212, 175, 55, 0.6);
        }

        /* Victory Modal */
        .victory-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease;
        }

        .victory-overlay.show {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .victory-modal {
            background: linear-gradient(135deg, rgba(26, 26, 62, 0.95), rgba(15, 15, 35, 0.95));
            border: 5px solid var(--temple-gold);
            border-radius: 30px;
            padding: 4rem;
            text-align: center;
            max-width: 600px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.9);
            animation: victoryAppear 0.8s ease;
        }

        @keyframes victoryAppear {
            from { 
                opacity: 0; 
                transform: scale(0.5) rotate(-10deg); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) rotate(0deg); 
            }
        }

        .victory-om {
            font-size: 5rem;
            margin-bottom: 1rem;
            animation: spinGlow 2s ease-in-out infinite;
        }

        @keyframes spinGlow {
            0%, 100% { 
                transform: rotate(0deg);
                filter: drop-shadow(0 0 20px rgba(212, 175, 55, 0.6));
            }
            50% { 
                transform: rotate(180deg);
                filter: drop-shadow(0 0 40px rgba(255, 107, 53, 0.8));
            }
        }

        .victory-title {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            background: linear-gradient(135deg, var(--sacred-orange), var(--temple-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1.5rem;
        }

        .victory-message {
            font-size: 1.5rem;
            color: var(--moonlight);
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .victory-blessing {
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            color: var(--ash-grey);
            font-style: italic;
            margin-top: 2rem;
        }

        .victory-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 3rem;
        }

        .victory-btn {
            padding: 1rem 2.5rem;
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            border: 2px solid;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .play-again-btn {
            background: rgba(255, 107, 53, 0.3);
            border-color: var(--sacred-orange);
            color: var(--sacred-orange);
        }

        .play-again-btn:hover {
            background: rgba(255, 107, 53, 0.5);
            transform: scale(1.05);
        }

        .back-to-site-btn {
            background: rgba(212, 175, 55, 0.3);
            border-color: var(--temple-gold);
            color: var(--temple-gold);
        }

        .back-to-site-btn:hover {
            background: rgba(212, 175, 55, 0.5);
            transform: scale(1.05);
        }

        /* Instructions */
        .instructions {
            position: fixed;
            top: 50%;
            left: 2rem;
            transform: translateY(-50%);
            background: rgba(15, 15, 35, 0.9);
            border: 2px solid var(--temple-gold);
            border-radius: 15px;
            padding: 1.5rem;
            max-width: 250px;
            z-index: 80;
        }

        .instructions h3 {
            font-family: 'Cinzel', serif;
            color: var(--temple-gold);
            margin-bottom: 1rem;
        }

        .instructions p {
            font-size: 1rem;
            color: var(--ash-grey);
            margin-bottom: 0.5rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .game-header {
                flex-wrap: wrap;
                gap: 1rem;
            }

            .game-title {
                font-size: 1.5rem;
            }

            .controls-panel {
                flex-wrap: wrap;
                bottom: 1rem;
            }

            .control-btn {
                padding: 0.8rem 1.5rem;
                font-size: 1.1rem;
            }

            .instructions {
                display: none;
            }

            .victory-modal {
                padding: 2rem;
                margin: 1rem;
            }

            .victory-title {
                font-size: 2.5rem;
            }
        }

        /* Welcome Screen for Game */
        .game-welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, var(--midnight) 0%, var(--night-blue) 50%, var(--sacred-purple) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .game-welcome-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .game-welcome-om {
            font-size: 6rem;
            color: var(--temple-gold);
            margin-bottom: 2rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .game-welcome-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--sacred-orange), var(--temple-gold), var(--deep-saffron));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
            animation: welcomeGlow 2s ease-in-out infinite;
        }

        @keyframes welcomeGlow {
            0%, 100% { filter: drop-shadow(0 0 30px rgba(255, 107, 53, 0.5)); }
            50% { filter: drop-shadow(0 0 50px rgba(255, 107, 53, 0.8)); }
        }

        .game-welcome-subtitle {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: var(--ash-grey);
            margin-bottom: 3rem;
            text-align: center;
        }

        .game-start-button {
            padding: 1.5rem 4rem;
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--midnight);
            background: linear-gradient(135deg, var(--temple-gold), var(--sacred-orange));
            border: none;
            border-radius: 50px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .game-start-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .game-start-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .game-start-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 60px rgba(255, 107, 53, 0.6);
        }

        .game-start-button:active {
            transform: scale(1.05);
        }

        .game-button-text {
            position: relative;
            z-index: 1;
        }

        .game-content {
            opacity: 0;
            transition: opacity 1s ease 0.3s;
        }

        .game-content.visible {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Welcome Screen for Game -->
    <div class="game-welcome-screen" id="gameWelcomeScreen">
        <div class="game-welcome-om">üïâÔ∏è</div>
        <h1 class="game-welcome-title">Shiva Special</h1>
        <p class="game-welcome-subtitle">Puja Quest Adventure</p>
        <button class="game-start-button" onclick="startGame()">
            <span class="game-button-text">Start Learning</span>
        </button>
    </div>

    <!-- Game Content -->
    <div class="game-content" id="gameContent">
    <div class="game-header">
        <div class="game-title">üïâÔ∏è Shiva Special - Puja Quest</div>
        <div>
            <a href="shivratri.html" class="back-button">‚Üê Back to Site</a>
            <button class="fullscreen-btn" onclick="toggleFullscreen()">‚õ∂ Fullscreen</button>
        </div>
    </div>

    <div class="game-hud">
        <div class="inventory-section">
            <div class="inventory-title">Sacred Items Collection</div>
            <div class="inventory-grid" id="inventory">
                <div class="inventory-item" id="inv-water">üíß Water</div>
                <div class="inventory-item" id="inv-milk">ü•õ Milk</div>
                <div class="inventory-item" id="inv-flowers">üå∏ Flowers</div>
                <div class="inventory-item" id="inv-incense">üî• Incense</div>
                <div class="inventory-item" id="inv-fruit">üçé Fruit</div>
            </div>
        </div>
        <div class="item-counter">
            <div class="counter-text" id="itemCount">0/5</div>
        </div>
    </div>

    <div class="game-viewport" id="viewport">
        <div class="game-world" id="gameWorld">
            <!-- Background -->
            <div class="village-ground"></div>
            
            <!-- Paths -->
            <div class="path path-horizontal"></div>
            <div class="path path-vertical"></div>

            <!-- Temple in Center -->
            <div class="temple">
                <div class="temple-platform"></div>
                <div class="shiva-lingam">
                    <div class="om-symbol">üïâÔ∏è</div>
                    <div class="lingam-body"></div>
                    <div class="lingam-yoni"></div>
                    <div class="lingam-base"></div>
                </div>
            </div>

            <!-- Buildings -->
            <div class="building house1"></div>
            <div class="building house2"></div>
            <div class="building house3"></div>
            <div class="building house4"></div>

            <!-- Trees -->
            <div class="tree" style="left: 500px; top: 200px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>
            <div class="tree" style="left: 800px; top: 400px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>
            <div class="tree" style="left: 2200px; top: 300px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>
            <div class="tree" style="left: 600px; top: 1600px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>
            <div class="tree" style="left: 2300px; top: 1700px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>
            <div class="tree" style="left: 1800px; top: 200px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>
            <div class="tree" style="left: 1200px; top: 1800px;">
                <div class="tree-leaves"></div>
                <div class="tree-trunk"></div>
            </div>

            <!-- Wells -->
            <div class="well" style="left: 700px; top: 700px;"></div>
            <div class="well" style="left: 2100px; top: 1200px;"></div>

            <!-- Items to Collect -->
            <div class="item" data-item="water" style="left: 400px; top: 600px;">
                üíß
                <div class="item-label">Holy Water</div>
            </div>
            <div class="item" data-item="milk" style="left: 2400px; top: 800px;">
                ü•õ
                <div class="item-label">Sacred Milk</div>
            </div>
            <div class="item" data-item="flowers" style="left: 800px; top: 1400px;">
                üå∏
                <div class="item-label">Bilva Flowers</div>
            </div>
            <div class="item" data-item="incense" style="left: 2200px; top: 600px;">
                üî•
                <div class="item-label">Divine Incense</div>
            </div>
            <div class="item" data-item="fruit" style="left: 600px; top: 1700px;">
                üçé
                <div class="item-label">Prasad Fruit</div>
            </div>

            <!-- Player -->
            <div class="player" id="player">üö∂</div>
        </div>
    </div>

    <div class="controls-panel">
        <button class="control-btn" onclick="movePlayer('up')">‚Üë</button>
        <button class="control-btn" onclick="movePlayer('down')">‚Üì</button>
        <button class="control-btn" onclick="movePlayer('left')">‚Üê</button>
        <button class="control-btn" onclick="movePlayer('right')">‚Üí</button>
        <button class="control-btn" onclick="resetGame()">üîÑ</button>
    </div>

    <div class="instructions">
        <h3>How to Play</h3>
        <p>üéÆ Use arrow buttons or WASD/Arrow keys</p>
        <p>üì¶ Collect all 5 sacred items</p>
        <p>üèõÔ∏è The temple is in the center</p>
        <p>üó∫Ô∏è Explore the entire village!</p>
    </div>

    <!-- Victory Modal -->
    <div class="victory-overlay" id="victoryOverlay">
        <div class="victory-modal">
            <div class="victory-om">üïâÔ∏è</div>
            <h2 class="victory-title">Good Job!</h2>
            <p class="victory-message">
                You have successfully collected all the sacred items for Lord Shiva's puja!
            </p>
            <p class="victory-blessing">
                ‡•ê ‡§®‡§Æ‡§É ‡§∂‡§ø‡§µ‡§æ‡§Ø<br>
                May Lord Shiva bless you with wisdom, prosperity, and inner peace.
            </p>
            <div class="victory-buttons">
                <button class="victory-btn play-again-btn" onclick="resetGame()">üîÑ Play Again</button>
                <button class="victory-btn back-to-site-btn" onclick="window.location.href='shivratri.html'">‚Üê Back to Site</button>
            </div>
        </div>
    </div>
    </div>

    <script>
        // Welcome Screen
        function startGame() {
            const welcomeScreen = document.getElementById('gameWelcomeScreen');
            const gameContent = document.getElementById('gameContent');
            
            welcomeScreen.classList.add('hidden');
            setTimeout(() => {
                gameContent.classList.add('visible');
                // Initialize camera and start game loop after transition
                updateCamera();
                gameLoop();
            }, 300);
        }

        // Game State
        let playerPos = { x: 1475, y: 975 }; // Start near center
        let cameraPos = { x: 0, y: 0 };
        let collectedItems = new Set();
        const moveSpeed = 5; // Pixels per frame
        let keys = {};
        let animationId = null;

        const viewport = document.getElementById('viewport');
        const gameWorld = document.getElementById('gameWorld');
        const player = document.getElementById('player');

        // Initialize player position
        player.style.left = playerPos.x + 'px';
        player.style.top = playerPos.y + 'px';

        function gameLoop() {
            let moved = false;

            // Check all movement keys
            if (keys['ArrowUp'] || keys['w'] || keys['W']) {
                playerPos.y = Math.max(25, playerPos.y - moveSpeed);
                moved = true;
            }
            if (keys['ArrowDown'] || keys['s'] || keys['S']) {
                playerPos.y = Math.min(1975, playerPos.y + moveSpeed);
                moved = true;
            }
            if (keys['ArrowLeft'] || keys['a'] || keys['A']) {
                playerPos.x = Math.max(25, playerPos.x - moveSpeed);
                moved = true;
            }
            if (keys['ArrowRight'] || keys['d'] || keys['D']) {
                playerPos.x = Math.min(2975, playerPos.x + moveSpeed);
                moved = true;
            }

            if (moved) {
                player.style.left = playerPos.x + 'px';
                player.style.top = playerPos.y + 'px';
                player.classList.add('moving');
                updateCamera();
                checkCollision();
            } else {
                player.classList.remove('moving');
            }

            animationId = requestAnimationFrame(gameLoop);
        }

        function updateCamera() {
            const viewportWidth = viewport.clientWidth;
            const viewportHeight = viewport.clientHeight;

            // Center camera on player
            cameraPos.x = playerPos.x - viewportWidth / 2;
            cameraPos.y = playerPos.y - viewportHeight / 2;

            // Clamp camera to world bounds
            cameraPos.x = Math.max(0, Math.min(3000 - viewportWidth, cameraPos.x));
            cameraPos.y = Math.max(0, Math.min(2000 - viewportHeight, cameraPos.y));

            gameWorld.style.transform = `translate(${-cameraPos.x}px, ${-cameraPos.y}px)`;
        }

        function checkCollision() {
            const playerRect = {
                left: playerPos.x,
                right: playerPos.x + 50,
                top: playerPos.y,
                bottom: playerPos.y + 50
            };

            document.querySelectorAll('.item:not(.collected)').forEach(item => {
                const itemX = parseInt(item.style.left);
                const itemY = parseInt(item.style.top);
                const itemRect = {
                    left: itemX,
                    right: itemX + 60,
                    top: itemY,
                    bottom: itemY + 60
                };

                if (!(playerRect.right < itemRect.left || 
                      playerRect.left > itemRect.right || 
                      playerRect.bottom < itemRect.top || 
                      playerRect.top > itemRect.bottom)) {
                    
                    const itemType = item.getAttribute('data-item');
                    collectItem(itemType, item);
                }
            });
        }

        function collectItem(itemType, element) {
            if (!collectedItems.has(itemType)) {
                collectedItems.add(itemType);
                element.classList.add('collected');
                
                const invItem = document.getElementById('inv-' + itemType);
                invItem.classList.add('collected');
                
                document.getElementById('itemCount').textContent = collectedItems.size + '/5';
                
                // Play collection sound effect (visual feedback)
                element.style.transform = 'scale(2) rotate(360deg)';
                
                if (collectedItems.size === 5) {
                    setTimeout(() => {
                        document.getElementById('victoryOverlay').classList.add('show');
                    }, 800);
                }
            }
        }

        function resetGame() {
            playerPos = { x: 1475, y: 975 };
            collectedItems.clear();
            
            player.style.left = playerPos.x + 'px';
            player.style.top = playerPos.y + 'px';
            
            document.querySelectorAll('.item').forEach(item => {
                item.classList.remove('collected');
                item.style.transform = '';
            });
            
            document.querySelectorAll('.inventory-item').forEach(item => {
                item.classList.remove('collected');
            });
            
            document.getElementById('itemCount').textContent = '0/5';
            document.getElementById('victoryOverlay').classList.remove('show');
            
            updateCamera();
        }

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            // Prevent default for arrow keys and game keys
            if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'w', 'a', 's', 'd', 'W', 'A', 'S', 'D'].includes(e.key)) {
                e.preventDefault();
            }
            
            keys[e.key] = true;
            
            // Reset on R key
            if (e.key === 'r' || e.key === 'R') {
                resetGame();
            }
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // Button controls for mobile/clicking
        function movePlayer(direction) {
            keys[direction === 'up' ? 'ArrowUp' : 
                 direction === 'down' ? 'ArrowDown' :
                 direction === 'left' ? 'ArrowLeft' : 'ArrowRight'] = true;
            
            setTimeout(() => {
                keys['ArrowUp'] = false;
                keys['ArrowDown'] = false;
                keys['ArrowLeft'] = false;
                keys['ArrowRight'] = false;
            }, 200);
        }

        // Fullscreen toggle
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Initialize camera and start game loop
        updateCamera();
        gameLoop();

        // Handle window resize
        window.addEventListener('resize', updateCamera);
    </script>
</body>
</html>
